
D:/gitlab-runner/build.fsx

27服务器(api)  ==> 星空和波多
36服务器(site )==> 星空平台
37服务器(波多site) ==> 波多系统


# 星空正式环境域名
* backstage.uoko.com		    boss后台	
* eval.uoko.com		            评价系统
* landlordcenter.uoko.com	    房源合伙人
* service.uoko.com		        服务商平台	
* passport.uoko.com		        SSO	
* i.uoko.com			        租客中心
* ushop.uoko.com                官网
* api.notify.uoko.com           短信邮件接口
* api.trade.uoko.com            支付接口
* cashier.uoko.com              收银台

 
# ~~星空上线要点~~
* 星空正式环境webconfig配置
* ids配置
* passport配置
* 更换数据库配置
* 支付key更换
* 官网城市域名更换
* 数据库里面还有域名站点的配置
* 支付key可以用webconfig, 可以配置在数据库
* jobs的也要配置


# ~~支付key重新检查~~ 
# ~~统一webconfig 的key命名~~
# ~~清理无效的配置~~
# ~~28服务器自己ping域名, ping其他服务器去了~~
# 邮件qq邮箱无法收到(qq.com后缀的邮箱都被视为垃圾邮件了)
# sso和支付都要在服务器配置hosts映射到本地来

#fire业务流程
* 创建项目信息,选择**sln**,**csproj**文件路径
* 配置服务器信息(ip地址,存储路径)
* 配置服务器下的域名,IIS站点, 对应的项目名称, 以及手动在服务器建立对应的IIS站点名称(服务器配置web-deploy)
* 创建发版任务(可以发布**test**,**pre**环境), 选择项目, 分支, 部署环境, 服务器, 域名,通知人员
* 如果**pre**环境测试通过之后, 就可以点击**上线**发线上环境, 线上环境要求输入版本号, 便于回顾
* 可以通过**紧急回滚**操作, 选择要回滚版本进行回滚

#fire技术点
* 我们会在项目里面配置各个上线环境的配置文件(webconfig transfer),配置文件名称与域名一一对应,发版的时候自动进行对应配置文件的转换(开发人员可以在vs里面进行预览转换)
* 发**test**环境就直接发选择要部署的分支
* 发**pre**环境脚本自动把选择的分支**merge**到**pre**分支
* 发正式环境脚本自动把**pre**分支**merge**到**master**分支,同时会创建对应的**tag version**版本号


